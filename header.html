<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="css/variables.css" />
  <link rel="stylesheet" href="css/uikit.css" />
  <link rel="stylesheet" href="css/header.css" />

  <script src="../dist/js/uikit.min.js"></script>
  <script src="../dist/js/uikit-icons-theme.js"></script>
  
  <title>Document</title>

</head>
<body>
  <header class="header">
    <div class="header-mobile uk-grid-collapse uk-child-width-auto uk-hidden@s" uk-grid>
      <div class="header-mobile__drawer">
        <a href="#offcanvas-usage" uk-toggle><span uk-icon="menu"></span></a>
        <div id="offcanvas-usage" uk-offcanvas="overlay: true">
            <div class="uk-offcanvas-bar">
                <button class="uk-offcanvas-close" type="button" uk-close></button>
                <h3>Title</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            </div>
        </div>
        
      </div>
      <div class="uk-width-expand">
        <div class="uk-flex uk-flex-center">
          <ul class="header-nav uk-flex-middle uk-flex-center uk-grid-column-small uk-grid-row-xsmall" uk-grid>
            <li>
              <a href="#">
                <span uk-icon="shuffle" class="uk-icon-size-16"></span>
                <span class="uk-badge uk-badge-muted uk-margin-4-left">1 / 3</span>
              </a>
            </li>
            <li>
              <a href="#">
                <span uk-icon="alert" class="uk-icon-size-16"></span>
                <span class="uk-badge uk-badge-muted uk-margin-4-left">15 / 5</span>
              </a>
            </li>
            <li>
              <a href="#">
                <span uk-icon="file" class="uk-icon-size-16"></span>
                <span class="uk-badge uk-badge-muted uk-margin-4-left">45</span>
              </a>
            </li>
            <li>
              <a href="#">
                <span uk-icon="complaint" class="uk-icon-size-16"></span>
                <span class="uk-badge uk-badge-muted uk-margin-4-left">15</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div>
        <a href="#"><span uk-icon="down-arrow-circle"></span></a>
        <ul class="uk-nav" uk-drop="pos: bottom-right" uk-nav>
          <li class="uk-nav-header">
            <div class="uk-flex uk-flex-middle uk-text-muted">
              <span uk-icon="user" class="uk-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="#009DDB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="#009DDB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>
              <div class="uk-margin-12-left uk-width-expand">
                <div class="uk-text-xsmall">
                  <div class="uk-text-truncate-clamp-2">Заказчик: <a class="uk-text-bold" href="#">ООО «Тестовая организация очень очень длинное предлинное название»</a></div>
                </div>
                <div class="uk-text-small uk-text-truncate">Сазанов Антон Михайлович</div>
              </div>
            </div>
          </li>
          <li class="uk-nav-divider"></li>
          <li><a href="#"><span class="uk-margin-small-right uk-text-primary" uk-icon="telegram"></span> Telegram-бот</a></li>
          <li class="uk-nav-divider"></li>
          <li><a href="#"><span class="uk-margin-small-right uk-text-primary" uk-icon="bell"></span> Уведомления</a></li>
          <li class="uk-nav-divider"></li>
          <li class="uk-parent">
            <a href="#">Настройка параметров <span uk-nav-parent-icon></span></a>
            <ul class="uk-nav-sub">
              <li><a href="#">Параметр первый</a></li>
              <li><a href="#">Параметр второй</a></li>
            </ul>
          </li>
          </li>
          <li><a href="#">Пользователи</a></li>
          <li><a href="#">Шаблоны протоколов</a></li>
          <li><a href="#">Реестр комиссий</a></li>
          <li class="uk-nav-divider"></li>
          <li><a href="#">Выйти</a></li>
        </ul>
      </div>
    </div>

    <div class="header-topbar uk-grid-collapse uk-visible@s" uk-grid>
      <div class="header-topbar__left uk-width-expand">
        <ul class="header-topbar__list uk-grid-collapse uk-child-width-auto uk-flex-nowrap" uk-grid>
          <li class="uk-flex-none uk-hidden@l">
            <div>
              <div class="header-topbar__time-all uk-text-small">
                <div>
                  <span uk-icon="server-time" class="uk-icon-size-16"></span>
                  <div>
                    <ul class="uk-subnav uk-subnav-small uk-subnav-dot uk-margin-remove-bottom">
                      <li>15.01.2022</li>
                      <li>12:42:45 (MSK +4)</li>
                    </ul> 
                  </div>
                </div>
                <div>
                  <span uk-icon="clock" class="uk-icon-size-16"></span>
                  <div>
                    <ul class="uk-subnav uk-subnav-small uk-subnav-dot uk-margin-remove-bottom">
                      <li>15.01.2022</li>
                      <li>12:42:45 (MSK +4)</li>
                    </ul> 
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="uk-flex-none uk-visible@l">
            <div>
              <span uk-icon="server-time"></span>
              <div class="uk-margin-12-left">
                <div class="uk-text-xsmall">Время на сервере</div>
                <div class="uk-text-small">
                  <ul class="uk-subnav uk-subnav-small uk-subnav-dot uk-margin-remove-bottom">
                    <li>15.01.2022</li>
                    <li>12:42:45 (MSK +4)</li>
                  </ul>        
                </div>
              </div>
            </div>
          </li>
          <li class="uk-flex-none uk-visible@l">
            <div>
              <span uk-icon="clock"></span>
              <div class="uk-margin-12-left">
                <div class="uk-text-xsmall">Местное время</div>
                <div class="uk-text-small">
                  <ul class="uk-subnav uk-subnav-small uk-subnav-dot uk-margin-remove-bottom">
                    <li>15.01.2022</li>
                    <li>12:42:45 (MSK +4)</li>
                  </ul> 
                </div>
              </div>
            </div>
          </li>
          <li class="uk-width-expand uk-visible@m">
            <div>
              <span uk-icon="user"></span>
              <div class="uk-margin-12-left uk-width-expand">
                <div class="uk-text-xsmall">
                  <div class="uk-text-truncate">Заказчик: <a class="uk-text-bold" href="#">ООО «Тестовая организация очень очень длинное название»</a></div>
                </div>
                <div class="uk-text-small uk-text-truncate">Сазанов Антон Михайлович</div>
              </div>
            </div>
          </li>
        </ul>
      </div>
      <div class="header-topbar__right uk-width-auto">
        <ul class="header-topbar__list uk-grid-collapse uk-child-width-auto uk-flex-nowrap" uk-grid>
          <li>
            <a href="#"><span uk-icon="telegram"></span></a>
          </li>
          <li class="header-topbar__bell">
            <a href="#">
              <span uk-icon="bell"></span>
              <span class="uk-badge uk-badge-danger uk-margin-2-left">25</span>
            </a>
            <div class="uk-card uk-card-body" uk-drop="pos: bottom-right">
              <button type="button" uk-close></button>
              <h4 class="uk-h3 uk-margin-small uk-margin-remove-top">Уведомления</h4>
              <ul class="uk-list uk-list-divider uk-margin-remove">
                <li>
                  Ссылка для подписи файла протокола по закупке №5999217711300056111 отправлена членам комиссии
                  <ul class="uk-subnav uk-subnav-small uk-subnav-dot uk-text-muted uk-text-small uk-margin-8-top">
                    <li>27.01.2022 17:12:21 (MSK+00:00)</li>
                    <li>Протоколы</li>
                  </ul> 
                </li>
                <li>
                  Ссылка для подписи файла протокола по закупке №5999217711300056111 отправлена членам комиссии
                  <ul class="uk-subnav uk-subnav-small uk-subnav-dot uk-text-muted uk-text-small uk-margin-8-top">
                    <li>27.01.2022 17:12:21 (MSK+00:00)</li>
                    <li>Протоколы</li>
                  </ul> 
                </li>
                <li>
                  <div class="uk-flex uk-flex-middle uk-flex-between">
                    <a class="uk-button uk-button-small uk-button-default uk-button-icon" href="#">
                      <span class="uk-icon-size-16 uk-text-primary" uk-icon="settings"></span>
                    </a>
                    <a class="uk-button uk-button-small uk-button-default" href="#">
                      <span class="uk-icon-size-16 uk-text-primary uk-margin-8-right" uk-icon="bell"></span>
                      Показать все уведомления
                    </a>
                  </div>
                </li>
              </ul>
            </div>
          </li>
          <li>
            <a class="header-topbar__profile" href="#">
              <div class="uk-h3 uk-margin-remove-bottom uk-margin-8-right uk-visible@l">Мой кабинет</div>
              <span uk-icon="down-arrow-circle"></span>
            </a>
            <ul class="uk-nav" uk-drop="pos: bottom-right" uk-nav>
              <li class="uk-nav-header uk-hidden@m">
                <div class="uk-flex uk-flex-middle uk-text-muted">
                  <span uk-icon="user" class="uk-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="#009DDB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="#009DDB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>
                  <div class="uk-margin-12-left uk-width-expand">
                    <div class="uk-text-xsmall">
                      <div class="uk-text-truncate-clamp-2">Заказчик: <a class="uk-text-bold" href="#">ООО «Тестовая организация очень очень длинное предлинное название»</a></div>
                    </div>
                    <div class="uk-text-small uk-text-truncate">Сазанов Антон Михайлович</div>
                  </div>
                </div>
              </li>
              <li class="uk-nav-divider uk-hidden@m"></li>
              <li class="uk-parent">
                <a href="#">Настройка параметров <span uk-nav-parent-icon></span></a>
                <ul class="uk-nav-sub">
                  <li><a href="#">Параметр первый</a></li>
                  <li><a href="#">Параметр второй</a></li>
                </ul>
              </li>
              </li>
              <li><a href="#">Пользователи</a></li>
              <li><a href="#">Шаблоны протоколов</a></li>
              <li><a href="#">Реестр комиссий</a></li>
              <li class="uk-nav-divider"></li>
              <li><a href="#">Выйти</a></li>
            </ul>
          </li>
          <li class="header-topbar__login">
            <div>
              <button type="button" class="uk-button uk-button-primary">Войти</button>
            </div>
          </li>
          <li class="uk-visible@l">
            <a class="header-topbar__logout" href="#"><span uk-icon="logout"></span></a>
          </li>
        </ul>
      </div>
    </div>
    <div class="header-hero uk-visible@s">
      <div class="uk-container uk-container-expand">
        <div class="uk-flex-middle" uk-grid>
          <div class="uk-width-auto">
            <a href="/"><img src="img/logo.svg" width="200" height="24" alt="Фабрикант"></a>
          </div>
          <div class="uk-width-expand">
            <ul class="header-nav uk-flex-middle" uk-grid>
              <li>
                <a href="#">
                  <span uk-icon="shuffle" class="uk-icon-size-16"></span>
                  <div class="uk-margin-4-left uk-visible@l">Запросы разъяснений</div>
                  <span class="uk-badge uk-badge-muted uk-margin-4-left">1 / 3</span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span uk-icon="alert" class="uk-icon-size-16"></span>
                  <div class="uk-margin-4-left uk-visible@l">Не забыть</div>
                  <span class="uk-badge uk-badge-muted uk-margin-4-left">15 / 5</span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span uk-icon="file" class="uk-icon-size-16"></span>
                  <div class="uk-margin-4-left uk-visible@l">Мои протоколы</div>
                  <span class="uk-badge uk-badge-muted uk-margin-4-left">45</span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span uk-icon="complaint" class="uk-icon-size-16"></span>
                  <div class="uk-margin-4-left uk-visible@l">Жалобы</div>
                  <span class="uk-badge uk-badge-muted uk-margin-4-left">15</span>
                </a>
              </li>
            </ul>
          </div>
          <div class="uk-width-auto">
            <div class="header-hero__tel">
              <span class="uk-hidden@xl uk-text-muted uk-icon-size-16" uk-icon="phone"></span>
              <div class="uk-child-width-auto uk-grid-row-collapse" uk-grid>
                <div>
                  <a href="tel:84994606602"><span class="uk-visible@xl uk-icon-size-16" uk-icon="phone"></span> 8 (499) 460-66-02</a>
                </div>
                <div>
                  <a href="tel:84951389678"><span class="uk-visible@xl uk-icon-size-16" uk-icon="phone"></span> 8 (495) 138-96-78</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="header-nav uk-visible@s">
      <div class="uk-container uk-container-expand">
        <div class="uk-child-width-expand uk-flex-middle uk-grid-large" uk-grid>
          <div>
            <nav class="uk-navbar-container" uk-navbar>
              <div class="uk-navbar-left">
                <ul class="uk-navbar-nav">
                  <li class="uk-active"><a href="#">Закупки</a></li>
                  <li><a href="#">Запросы</a></li>
                  <li><a href="#">Контракты</a></li>
                  <li><a href="#">Протоколы</a></li>
                  <li><a href="#">Не забыть</a></li>
                  <li>
                    <a href="#">Дополнительные сервисы</a>
                    <ul class="uk-nav" uk-drop>
                      <li><a href="">Калькулятор пени и штрафов ПП 1042</a></li>
                      <li><a href="#">Калькулятор НМЦК (охрана)</a></li>
                      <li><a href="#">Поиск по решениям ФАС</a></li>
                      <li><a href="#">Проверка ГОСТ/СНиП</a></li>
                      <li><a href="#">ОКПД 2/КТРУ</a></li>
                      <li><a href="#">НМЦК (анализ рынка)</a></li>
                      <li><a href="#">НМЦК (мед.изделия)</a></li>
                      <li><a href="#">НМЦК (ПВХ)</a></li>
                    </ul>
                  </li>
                  <li class="more">
                    <a href="#">Ещё...</a>
                    <ul class="uk-nav" uk-drop>
                        <li><a href="#">Секции</a></li>
                        <li class="uk-active"><a href="#">Текущий раздел</a></li>
                        <li>
                          <a href="#">Капитальный ремонт</a>
                          <ul class="uk-nav" uk-drop="pos: right-top">
                            <li><a href="#">Реестр квалифицированных подрядных организаций</a></li>
                            <li><a href="#">Закупки по 615-ПП</a></li>
                            <li><a href="#">Документация</a></li>
                          </ul>
                        </li>
                        <li><a href="#">Поддержка</a></li>
                      </ul>
                  </li>
                </ul>
              </div>
            </nav>
          </div>
          <div class="uk-width-auto">
            <a class="uk-text-small uk-flex uk-flex-middle" href="#"><span class="uk-margin-4-right uk-icon-size-16" uk-icon="question"></span> Обращение в техподдержку</a>
          </div>
        </div>
      </div>
    </div>
  </header>
  
  <script>
    const navbars = document.querySelectorAll('[uk-navbar]');

    navbars.forEach((navbar) => {
      const list = navbar.querySelector('ul');
      const items = list.querySelectorAll(':scope > li:not(.more)');
      const itemLast = list.querySelector(':scope > li:last-child');
      let listMore = [];
      
      if(itemLast.classList.contains('more')) {
        listMore = [...itemLast.querySelector('.uk-nav').children];
      } else {
        list.insertAdjacentHTML('beforeend', `
        <li class="more">
          <a href="#">Ещё...</a>
          <div uk-drop>
            <ul class="uk-nav"></ul>
          </div>
        </li>`)
      }
      
      const handleOverflowNavbar = () => {
        const itemMore = list.querySelector(':scope > li.more');
        const itemMoreList = itemMore.querySelector(':scope > .uk-nav');

        itemMoreList.replaceChildren(...listMore)
        items.forEach((item) => {
          item.hidden = false
        })

        const navbarWidth = navbar.offsetWidth;
        let stopWidth = itemMore.offsetWidth;
        let hiddenItems = [];

        console.log(navbarWidth)

        items.forEach((item) => {
          if(navbarWidth >= stopWidth + item.offsetWidth) {
            stopWidth += item.offsetWidth
          } else {
            itemMoreList.insertAdjacentHTML('afterbegin', item.outerHTML)
            item.hidden = true
          }
        })

        if(itemMoreList.childNodes.length > 0) {
          itemMore.hidden = false
        } else {
          itemMore.hidden = true
        }

        const itemMoreDrop = itemMoreList.querySelectorAll('[uk-drop]');
        if(itemMoreDrop) {
          itemMoreDrop.forEach((item) => {
            UIkit.drop(item, {
              pos: 'right-top'
            })
          })
        }

      }

      handleOverflowNavbar()
      window.addEventListener('resize', handleOverflowNavbar);
    })


  </script>
</body>
</html>